<!DOCTYPE html>
<html lang='en'>
<head>
<link rel='icon' href='webpkiorg.png' sizes='192x192'>
<meta name='viewport' content='initial-scale=1.0'>
<meta charset="utf-8">
<title>Selective Disclosure</title>
<link rel='stylesheet' type='text/css' href='style.css'>
</head>
<body>
<a href='https://github.com/cyberphone/sd-experimental/tree/main' title="Back to Repository"><img style='height:2.5em' alt='Lab' src='thelab.svg'></a>
<h2>Selective Disclosure - Experiments</h2>
This is a set of "printouts" from a PoC using SD-CWT
as foundation but rather building on
<a href='https://datatracker.ietf.org/doc/draft-ietf-cbor-cde/'>Deterministically Encoded CBOR</a> and
<a href='https://cyberphone.github.io/javaapi/org/webpki/cbor/doc-files/signatures.html'>Embedded Signatures</a>.
<p>
This PoC is based on the IETF draft
<a href='https://www.ietf.org/archive/id/draft-ietf-spice-sd-cwt-04.html'>https://www.ietf.org/archive/id/draft-ietf-spice-sd-cwt-04.html</a>.
</p>
Note: this is NOT a standards proposal! 
<h5>Disclosures</h5>
Note: although the input data and salts are identical to those in the
IETF draft, the resulting blinded claims differ.
This is because there is no obvious need to wrap claims in <code>bstr</code>
when you have deterministic encoding.
@disclosures@
<h5 id='issued-sd-cwt'>Enhanced "SD-CWT" Using An Embedded Signature</h5>
Note: there is no "<code>typ</code>" entry.  This is because
embedded signatures span over the <i>entire</i> container, and therefore
make a top-level CBOR embedding tag a more logical place for object IDs.
Unlike the CWT solution, this way of typing CBOR objects is <i>universal</i>.
<p>
The following is a verifiable and authentic <code>toString()</code> printout of
the enhanced SD-CWT object:
</p> 
@issued-sd-cwt@
The elimination of <code>bstr</code> for holding application data
makes documents maintain an appearance that is close to the publishing format.
<p id='ietf-sd-cwt-debug-printout'>
The following is a <code>toString()</code> printout of the <i>original</i> (IETF) SD-CWT:
</p>
@original-sd-cwt-pretty-print@
This object is obviously rather hard to "decipher" (and debug) compared to
its <a href='#original-ietf-sd-cwt'>Authored Counterpart</a>,
although they are (with respect to CBOR), <i>identical</i>.
<h5 id='holder-sd-cwt'>Enhanced "SD-KBT" Using An Embedded Signature</h5>
The following is a verifiable and authentic <code>toString()</code> printout of
an enhanced SD-KBT object holding 3 disclosures:
@sd-kbt-pretty-print@
Note that embedded signatures preserve the underlying data in <i>clear</i>.
<p id='ietf-sd-kbt-debug-printout'>
The following is a <code>toString()</code> printout of the <i>original</i> (IETF) SD-KBT:
</p>
@original-ietf-sd-kbt@
<h5 id='issuer-key'>Issuer Key</h5>
Issuer COSE Key in Extended Diagnostic Notation (EDN).
@issuer-key@
<h5 id='holder-key'>Holder Key</h5>
Holder COSE Key in Extended Diagnostic Notation (EDN).
@holder-key@
<h5 id='original-ietf-sd-cwt'>The Original (IETF) SD-CWT</h5>
@original-ietf-sd-cwt@
Slightly edited with respect to comma separators &#x1f609;
<h5>Author and Version</h5>
Author: Anders Rundgren<br>
Current version: 2025-09-10.1
</body>
</html>

